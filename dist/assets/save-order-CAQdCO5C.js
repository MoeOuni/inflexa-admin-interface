import{J as Fe,K as Ee,M,e as Ie,j as e,S as _,b9 as _e,Z as je,g as v,a4 as pe,a1 as Q,a2 as z,a3 as Te,aX as Oe,b2 as ue,ap as De,$ as Ge,b3 as Ve,b4 as Me,at as K,X as qe,G as Be,B as A,L as ee,C as k,a as F,b as E,H as B,c as I,aq as se,ac as re,I as g}from"./index-Cpj_313k.js";import{O as Le}from"./store-Bt4IQKUI.js";import{u as $e,t as ze,g as Ke,F as He,a as m,b as c,c as x,d as o,e as j,f as G}from"./index-Bir7vsR2.js";import{B as Qe}from"./back-button-D-5gooSg.js";import{P as ae,a as ne,b as le}from"./popover-DROVBhEs.js";import{a as ie,b as de,c as te,d as oe,e as ce,f as xe}from"./command-BLH0lZHp.js";import{S as he,P as Ue}from"./phone-input-Cm94bRnn.js";import{T as Xe}from"./textarea-CmUeH0Hs.js";import{u as Ye}from"./use-customers-pZjROUl6.js";import{u as Je}from"./use-products-RpaoqRTb.js";import{o as We}from"./order-query-keys-CKvnANFa.js";import{u as Ze}from"./index-DzltJMM4.js";import{O as V}from"./order-CDZIasR2.js";import{T as es,a as ss,b as me,c as L,d as rs,e as q}from"./table-CP6PtkBs.js";import{T}from"./index-Bp5P_O-9.js";import{T as as}from"./trash-2-BMyQxXfG.js";import{C as ns}from"./circle-plus-B5cNmlKB.js";import"./index-BdQq_4o_.js";import"./customer-query-keys-3MpjwF4T.js";import"./product-query-keys-IYfJB1mD.js";import"./index-BZdzFUmg.js";import"./AntdIcon-CFOhqONk.js";import"./shadow-smhd3i8u.js";import"./colors-CxA5wLuG.js";import"./genComponentStyleHook-BLUmqr6G.js";const ls=async i=>await Ie.post("/pre-order",i);function is(){const i=Fe();return Ee({mutationFn:ls,onSuccess:()=>{i.invalidateQueries({queryKey:We.all}),M.success("Order created successfully")},onError:l=>{var n,a;M.error(((a=(n=l==null?void 0:l.response)==null?void 0:n.data)==null?void 0:a.message)||"An error occurred. Please try again.")}})}const ds=_e("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $({className:i,variant:l,...n}){return e.jsx("div",{className:_(ds({variant:l}),i),...n})}var U="Radio",[ts,fe]=je(U),[os,cs]=ts(U),ge=v.forwardRef((i,l)=>{const{__scopeRadio:n,name:a,checked:r=!1,required:u,disabled:f,value:N="on",onCheck:y,...R}=i,[S,C]=v.useState(null),w=pe(l,t=>C(t)),s=v.useRef(!1),d=S?!!S.closest("form"):!0;return e.jsxs(os,{scope:n,checked:r,disabled:f,children:[e.jsx(Q.button,{type:"button",role:"radio","aria-checked":r,"data-state":be(r),"data-disabled":f?"":void 0,disabled:f,value:N,...R,ref:w,onClick:z(i.onClick,t=>{r||y==null||y(),d&&(s.current=t.isPropagationStopped(),s.current||t.stopPropagation())})}),d&&e.jsx(xs,{control:S,bubbles:!s.current,name:a,value:N,checked:r,required:u,disabled:f,style:{transform:"translateX(-100%)"}})]})});ge.displayName=U;var ve="RadioIndicator",ye=v.forwardRef((i,l)=>{const{__scopeRadio:n,forceMount:a,...r}=i,u=cs(ve,n);return e.jsx(Te,{present:a||u.checked,children:e.jsx(Q.span,{"data-state":be(u.checked),"data-disabled":u.disabled?"":void 0,...r,ref:l})})});ye.displayName=ve;var xs=i=>{const{control:l,checked:n,bubbles:a=!0,...r}=i,u=v.useRef(null),f=Ze(n),N=Oe(l);return v.useEffect(()=>{const y=u.current,R=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(R,"checked").set;if(f!==n&&C){const w=new Event("click",{bubbles:a});C.call(y,n),y.dispatchEvent(w)}},[f,n,a]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:u,style:{...i.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function be(i){return i?"checked":"unchecked"}var hs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],X="RadioGroup",[ms,Ks]=je(X,[ue,fe]),Ne=ue(),Ce=fe(),[js,ps]=ms(X),we=v.forwardRef((i,l)=>{const{__scopeRadioGroup:n,name:a,defaultValue:r,value:u,required:f=!1,disabled:N=!1,orientation:y,dir:R,loop:S=!0,onValueChange:C,...w}=i,s=Ne(n),d=De(R),[t,h]=Ge({prop:u,defaultProp:r,onChange:C});return e.jsx(js,{scope:n,name:a,required:f,disabled:N,value:t,onValueChange:h,children:e.jsx(Ve,{asChild:!0,...s,orientation:y,dir:d,loop:S,children:e.jsx(Q.div,{role:"radiogroup","aria-required":f,"aria-orientation":y,"data-disabled":N?"":void 0,dir:d,...w,ref:l})})})});we.displayName=X;var Pe="RadioGroupItem",Re=v.forwardRef((i,l)=>{const{__scopeRadioGroup:n,disabled:a,...r}=i,u=ps(Pe,n),f=u.disabled||a,N=Ne(n),y=Ce(n),R=v.useRef(null),S=pe(l,R),C=u.value===r.value,w=v.useRef(!1);return v.useEffect(()=>{const s=t=>{hs.includes(t.key)&&(w.current=!0)},d=()=>w.current=!1;return document.addEventListener("keydown",s),document.addEventListener("keyup",d),()=>{document.removeEventListener("keydown",s),document.removeEventListener("keyup",d)}},[]),e.jsx(Me,{asChild:!0,...N,focusable:!f,active:C,children:e.jsx(ge,{disabled:f,required:u.required,checked:C,...y,...r,name:u.name,ref:S,onCheck:()=>u.onValueChange(r.value),onKeyDown:z(s=>{s.key==="Enter"&&s.preventDefault()}),onFocus:z(r.onFocus,()=>{var s;w.current&&((s=R.current)==null||s.click())})})})});Re.displayName=Pe;var us="RadioGroupIndicator",Se=v.forwardRef((i,l)=>{const{__scopeRadioGroup:n,...a}=i,r=Ce(n);return e.jsx(ye,{...r,...a,ref:l})});Se.displayName=us;var Ae=we,ke=Re,fs=Se;const H=v.forwardRef(({className:i,...l},n)=>e.jsx(Ae,{className:_("grid gap-2",i),...l,ref:n}));H.displayName=Ae.displayName;const b=v.forwardRef(({className:i,...l},n)=>e.jsx(ke,{ref:n,className:_("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",i),...l,children:e.jsx(fs,{className:"flex items-center justify-center",children:e.jsx(K,{className:"h-3.5 w-3.5 fill-primary"})})}));b.displayName=ke.displayName;const gs=({status:i})=>{let l;return i==="cash"&&(l=e.jsx(T,{color:"orange",children:"Cash"})),i==="credit"&&(l=e.jsx(T,{color:"lime",children:"Credit Card"})),i==="debit"&&(l=e.jsx(T,{color:"green",children:"Debit Card"})),i==="check"&&(l=e.jsx(T,{color:"geekblue",children:"Check"})),i==="payment_on_delivery"&&(l=e.jsx(T,{children:"Payment On Delivery"})),i==="other"&&(l=e.jsx(T,{children:"Other"})),l},O=({status:i})=>e.jsx(e.Fragment,{children:e.jsx(qe.Fragment,{children:e.jsx(gs,{status:i})})}),vs=()=>{const i=Be(),l=Ye(),n=Je(),a=is(),r=$e({resolver:ze(Le),defaultValues:{customer:"",status:"processed",notes:"",products:[]},mode:"onChange"}),{fields:u,append:f,remove:N}=Ke({name:"products",control:r.control});async function y(s){a.mutateAsync(s).then(()=>{i("/orders")}).catch(d=>{var t,h;M.error(((h=(t=d==null?void 0:d.response)==null?void 0:t.data)==null?void 0:h.message)||(d==null?void 0:d.message)||"An error occurred while saving the product.")})}const R=()=>{window.open("/customers/save","_blank")},S=()=>{i("/orders")},C=s=>{var h,P,p,D,Y,J,W,Z;const d=((D=(h=s==null?void 0:s.contactInfo)==null?void 0:h.shippingAddress)==null?void 0:D[((p=(P=s.contactInfo)==null?void 0:P.shippingAddress)==null?void 0:p.length)-1])??{postalCode:"",city:"",country:"",state:"",street:""},t=((Z=(Y=s==null?void 0:s.contactInfo)==null?void 0:Y.billingAddress)==null?void 0:Z[((W=(J=s.contactInfo)==null?void 0:J.billingAddress)==null?void 0:W.length)-1])??{postalCode:"",city:"",country:"",state:"",street:""};r.setValue("customer",s._id||""),r.setValue("billingAddress",t),r.setValue("shippingAddress",d),r.setValue("customerName",s.name??"")},w=(s,d)=>{var t;r.setValue(`products.${d}.product`,s._id||""),r.setValue(`products.${d}.productRef`,s.reference||""),r.setValue(`products.${d}.price`,((t=s.price)==null?void 0:t.listPrice)||0)};return v.useEffect(()=>{var s;r.formState.isSubmitted&&Object.keys(r.formState.errors).length>0&&((s=r.formState.errors.products)!=null&&s.message?M.error(r.formState.errors.products.message):M.error("Please validate all the fields before submitting"))},[r.formState.isSubmitted,r.formState.errors]),e.jsx("div",{className:"pb-2",children:e.jsx(He,{...r,children:e.jsxs("form",{onInvalid:s=>console.log(s),onSubmit:r.handleSubmit(y),className:"grid flex-1 auto-rows-max gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Qe,{onClick:S}),e.jsx("h1",{className:"flex-1 shrink-0 whitespace-nowrap text-xl font-semibold tracking-tight sm:grow-0",children:"New Order"}),e.jsx("div",{children:e.jsx($,{children:"New"})}),e.jsxs("div",{className:"hidden items-center gap-2 md:ml-auto md:flex",children:[e.jsx(A,{variant:"outline",size:"sm",disabled:a.isPending,children:"Discard"}),e.jsxs(A,{type:"submit",size:"sm",className:"h-8 gap-1",disabled:a.isPending,children:[a.isPending&&e.jsx(ee,{className:"mr-2 h-4 w-4 animate-spin"})," ","Save Order"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr_340px] lg:grid-cols-3 lg:gap-8",children:[e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 lg:col-span-2 lg:gap-8",children:[e.jsxs(k,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Customer"}),e.jsx(B,{children:"Select a customer for this order. If the customer is not in the list, you can create a new one from the button below."})]}),e.jsx(I,{children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx(m,{name:"customer",control:r.control,render:({field:s})=>{var d,t;return e.jsxs(c,{className:"flex flex-col",children:[e.jsx(x,{children:"Customer"}),e.jsxs(ae,{children:[e.jsx(ne,{asChild:!0,children:e.jsx(o,{children:e.jsxs(A,{disabled:a.isPending,variant:"outline",role:"combobox",className:_("max-w-sm justify-between",!s.value&&"text-muted-foreground"),children:[s.value?(d=l==null?void 0:l.data.data.find(h=>h._id===s.value))==null?void 0:d.name:"Select Customer",e.jsx(se,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),e.jsx(le,{className:"p-0",children:e.jsxs(ie,{children:[e.jsx(de,{placeholder:"Search customer...",className:"h-9"}),e.jsx(te,{children:e.jsxs(he,{className:"h-72",children:[e.jsx(oe,{children:"No customer found."}),(l==null?void 0:l.isSuccess)&&e.jsx(ce,{children:(t=l==null?void 0:l.data.data)==null?void 0:t.map(h=>e.jsxs(xe,{className:"w-full",onSelect:()=>{C(h)},children:[h.name,e.jsxs("div",{className:"flex gap-1 ml-auto items-center",children:[e.jsxs($,{className:"text-xs font-normal",variant:"outline",children:["#",h==null?void 0:h.customerId]}),e.jsx(K,{className:_("ml-auto h-4 w-4",(h==null?void 0:h._id)===s.value?"opacity-100":"opacity-0")})]})]},h._id))})]})})]})})]}),e.jsx(j,{})]})}}),e.jsx(m,{name:"notes",control:r.control,render:({field:s})=>e.jsxs(c,{className:"flex flex-col",children:[e.jsx(x,{children:"Notes"}),e.jsx(o,{children:e.jsx(Xe,{disabled:a.isPending,...s,className:"h-32 p-2 border rounded-md w-full"})}),e.jsx(j,{})]})})]})}),e.jsx(re,{children:e.jsx(A,{type:"button",disabled:a.isPending,variant:"outline",className:"ml-auto",onClick:R,children:"Create New Customer"})})]}),e.jsxs(k,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Products"}),e.jsx(B,{children:"Add products to the order. You can search for products by name or reference."})]}),e.jsx(I,{children:e.jsxs(es,{children:[e.jsx(ss,{children:e.jsxs(me,{children:[e.jsx(L,{children:"Product"}),e.jsx(L,{children:"Quantity"}),e.jsx(L,{children:"Unit Price"})]})}),e.jsx(rs,{children:u.map((s,d)=>e.jsxs(me,{children:[e.jsx(q,{className:"align-top",children:e.jsx(m,{control:r.control,name:`products.${d}.product`,render:({field:t})=>{var h,P;return e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(ae,{children:[e.jsx(ne,{asChild:!0,children:e.jsx(o,{children:e.jsxs(A,{disabled:a.isPending,variant:"outline",role:"combobox",className:_("w-full justify-between",!t.value&&"text-muted-foreground"),children:[t.value?(h=n==null?void 0:n.data.data.find(p=>p._id===t.value))==null?void 0:h.name:"Select Product",e.jsx(se,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),e.jsx(le,{className:"p-0",children:e.jsxs(ie,{children:[e.jsx(de,{placeholder:"Search product...",className:"h-9"}),e.jsx(te,{children:e.jsxs(he,{className:"h-72",children:[e.jsx(oe,{children:"No product found."}),(n==null?void 0:n.isSuccess)&&e.jsx(ce,{children:(P=n==null?void 0:n.data.data)==null?void 0:P.map(p=>e.jsxs(xe,{className:"w-full",onSelect:()=>{w(p,d)},children:[p.name,e.jsxs("div",{className:"flex gap-1 ml-auto items-center",children:[e.jsxs($,{className:"text-xs font-normal",variant:"outline",children:["#",p==null?void 0:p.reference]}),e.jsx(K,{className:_("ml-auto h-4 w-4",(p==null?void 0:p._id)===t.value?"opacity-100":"opacity-0")})]})]},p._id))})]})})]})})]})}),e.jsx(j,{})]})}})}),e.jsx(q,{className:"align-top",children:e.jsx(m,{control:r.control,name:`products.${d}.quantity`,render:({field:t})=>{var h,P;return e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,...t,type:"number",step:"0.01",max:(P=(h=n==null?void 0:n.data.data.find(p=>(p==null?void 0:p._id)===r.getValues(`products.${d}.product`)))==null?void 0:h.stock)==null?void 0:P.currentStock,className:"max-w-24",onChange:p=>{const D=parseFloat(p.target.value);t.onChange(typeof D=="number"&&D)}})}),e.jsx(j,{})]})}})}),e.jsx(q,{className:"align-top",children:e.jsx(m,{control:r.control,name:`products.${d}.price`,render:({field:t})=>e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,...t,type:"number",step:"0.01",className:"max-w-36",onChange:h=>{const P=parseFloat(h.target.value);t.onChange(typeof P=="number"&&P)}})}),e.jsx(j,{})]})})}),e.jsx(q,{className:"align-top",children:e.jsx(A,{disabled:a.isPending,variant:"ghost",onClick:()=>N(d),className:"",size:"sm",children:e.jsx(as,{className:"h-5"})})})]}))})]})}),e.jsx(re,{className:"justify-center border-t",children:e.jsxs(A,{size:"sm",type:"button",disabled:a.isPending,variant:"ghost",className:"gap-1 mt-2",onClick:()=>f({product:"",quantity:1,price:0,productRef:""}),children:[e.jsx(ns,{className:"h-3.5 w-3.5"}),"Add Product"]})})]}),e.jsxs(k,{children:[e.jsx(F,{children:e.jsx(E,{children:"Shipping Address"})}),e.jsxs(I,{className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{control:r.control,name:"shippingAddress.street",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"street",children:"Street"}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,id:"street",placeholder:"Enter street address",...s})}),e.jsx(j,{})]})}),e.jsx(m,{control:r.control,name:"shippingAddress.city",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"city",children:"City"}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,id:"city",placeholder:"Enter city",...s})}),e.jsx(j,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(m,{control:r.control,name:"shippingAddress.state",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"state",children:"State"}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,id:"state",placeholder:"Enter state",...s})}),e.jsx(j,{})]})}),e.jsx(m,{control:r.control,name:"shippingAddress.postalCode",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"postalCode",children:"Postal Code"}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,id:"postalCode",placeholder:"Enter postal code",...s})}),e.jsx(j,{})]})}),e.jsx(m,{control:r.control,name:"shippingAddress.country",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"country",children:"Country"}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,id:"country",placeholder:"Enter country",...s})}),e.jsx(j,{})]})})]})]})]}),e.jsxs(k,{children:[e.jsx(F,{children:e.jsx(E,{children:"Billing Address"})}),e.jsxs(I,{className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{control:r.control,name:"billingAddress.street",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"street",children:"Street"}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,id:"street",placeholder:"Enter street address",...s})}),e.jsx(j,{})]})}),e.jsx(m,{control:r.control,name:"billingAddress.city",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"city",children:"City"}),e.jsx(o,{children:e.jsx(g,{id:"city",disabled:a.isPending,placeholder:"Enter city",...s})}),e.jsx(j,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(m,{control:r.control,name:"billingAddress.state",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"state",children:"State"}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,id:"state",placeholder:"Enter state",...s})}),e.jsx(j,{})]})}),e.jsx(m,{control:r.control,name:"billingAddress.postalCode",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"postalCode",children:"Postal Code"}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,id:"postalCode",placeholder:"Enter postal code",...s})}),e.jsx(j,{})]})}),e.jsx(m,{control:r.control,name:"billingAddress.country",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsx(x,{htmlFor:"country",children:"Country"}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,id:"country",placeholder:"Enter country",...s})}),e.jsx(j,{})]})})]})]})]})]}),e.jsxs("div",{className:"grid auto-rows-max items-start gap-4",children:[e.jsxs(k,{children:[e.jsx(F,{children:e.jsx(E,{children:"Order Status"})}),e.jsx(I,{children:e.jsx("div",{className:"grid gap-6",children:e.jsx(m,{control:r.control,name:"status",render:({field:s})=>e.jsxs(c,{className:"space-y-3 ",children:[e.jsx(o,{children:e.jsxs(H,{disabled:a.isPending,onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col space-y-1",children:[e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"pending"})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(x,{children:e.jsx(V,{status:"pending"})}),e.jsx(G,{children:"The order has been placed but not yet processed."})]})]}),e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"processed"})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(x,{children:e.jsx(V,{status:"processed"})}),e.jsx(G,{children:"The order has been reviewed and is being prepared for shipment."})]})]}),e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"shipped"})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(x,{children:e.jsx(V,{status:"shipped"})}),e.jsx(G,{children:"The order has been dispatched and is on its way to the delivery address."})]})]}),e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"delivered"})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(x,{children:e.jsx(V,{status:"delivered"})}),e.jsx(G,{children:"The order has been delivered to the customer."})]})]}),e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"cancelled"})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(x,{children:e.jsx(V,{status:"cancelled"})}),e.jsx(G,{children:"The order has been cancelled and will not be processed or delivered."})]})]})]})}),e.jsx(j,{})]})})})})]}),e.jsxs(k,{children:[e.jsxs(F,{children:[e.jsx(E,{children:"Delivery (Optional)"}),e.jsx(B,{children:"You can leave this section empty if the order does is not ready for delivery."})]}),e.jsx(I,{children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx(m,{name:"delivery.deliveryMan.name",control:r.control,render:({field:s})=>e.jsxs(c,{className:"flex flex-col",children:[e.jsxs(x,{children:["Delivery Man Name",e.jsxs("span",{className:"text-muted-foreground",children:[" ","(Optional)"]})]}),e.jsx(o,{children:e.jsx(g,{disabled:a.isPending,...s})}),e.jsx(j,{})]})}),e.jsx(m,{name:"delivery.deliveryMan.phone",control:r.control,render:({field:s})=>e.jsxs(c,{className:"flex flex-col",children:[e.jsx(x,{children:"Delivery Phone Number"}),e.jsx(o,{children:e.jsx(Ue,{defaultCountry:"TN",placeholder:"Enter a phone number",...s})}),e.jsx(j,{})]})}),e.jsx(m,{name:"delivery.deliveryMan.registrationNumber",control:r.control,render:({field:s})=>e.jsxs(c,{className:"flex flex-col",children:[e.jsx(x,{children:"Delivery Registration Number"}),e.jsx(o,{children:e.jsx(g,{...s})}),e.jsx(j,{})]})}),e.jsx(m,{name:"deliveryPrice",control:r.control,render:({field:s})=>e.jsxs(c,{children:[e.jsx(x,{children:"Delivery Price"}),e.jsx(o,{children:e.jsx(g,{...s,type:"number",step:"0.01",onChange:d=>{const t=parseFloat(d.target.value);s.onChange(typeof t=="number"&&t)},disabled:n.isPending})}),e.jsx(j,{})]})})]})})]}),e.jsxs(k,{children:[e.jsx(F,{children:e.jsx(E,{children:"Payment"})}),e.jsx(I,{children:e.jsx("div",{className:"grid gap-6",children:e.jsx(m,{control:r.control,name:"payment",render:({field:s})=>e.jsxs(c,{className:"space-y-3",children:[e.jsx(x,{children:"Payment Type"}),e.jsx(o,{children:e.jsxs(H,{disabled:a.isPending,onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col space-y-1",children:[e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"cash"})})}),e.jsx("div",{className:"flex flex-col",children:e.jsx(x,{children:e.jsx(O,{status:"cash"})})})]}),e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"credit"})})}),e.jsx("div",{className:"flex flex-col",children:e.jsx(x,{children:e.jsx(O,{status:"credit"})})})]}),e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"debit"})})}),e.jsx("div",{className:"flex flex-col",children:e.jsx(x,{children:e.jsx(O,{status:"debit"})})})]}),e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"check"})})}),e.jsx("div",{className:"flex flex-col",children:e.jsx(x,{children:e.jsx(O,{status:"check"})})})]}),e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"payment_on_delivery"})})}),e.jsx("div",{className:"flex flex-col",children:e.jsx(x,{children:e.jsx(O,{status:"payment_on_delivery"})})})]}),e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx("div",{children:e.jsx(o,{children:e.jsx(b,{value:"other"})})}),e.jsx("div",{className:"flex flex-col",children:e.jsx(x,{children:e.jsx(O,{status:"other"})})})]})]})}),e.jsx(j,{})]})})})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 md:hidden",children:[e.jsx(A,{variant:"outline",size:"sm",disabled:a.isPending,children:"Discard"}),e.jsxs(A,{size:"sm",type:"submit",className:"h-8 gap-1",disabled:a.isPending,children:[a.isPending&&e.jsx(ee,{className:"mr-2 h-4 w-4 animate-spin"})," ","Save Order"]})]})]})})})},Hs=()=>e.jsx("div",{children:e.jsx(vs,{})});export{Hs as default};
