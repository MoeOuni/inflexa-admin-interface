import{ap as M,au as h,r as e,ar as C,_ as f,as as O,aN as I,aq as $,av as y,aw as k,ax as N,$ as E,ay as T,j as x,a as S}from"./index-3nPIAQnH.js";import{a as j,h as K,R as z,b as L,c as G}from"./Combination-CsG-0PjX.js";import{$ as q,a as H}from"./check-BMG6f9gN.js";const _="Popover",[R,fe]=M(_,[h]),m=h(),[U,u]=R(_),V=o=>{const{__scopePopover:s,children:r,open:d,defaultOpen:t,onOpenChange:c,modal:n=!1}=o,a=m(s),i=e.useRef(null),[l,v]=e.useState(!1),[g=!1,p]=q({prop:d,defaultProp:t,onChange:c});return e.createElement(N,a,e.createElement(U,{scope:s,contentId:H(),triggerRef:i,open:g,onOpenChange:p,onOpenToggle:e.useCallback(()=>p(P=>!P),[p]),hasCustomAnchor:l,onCustomAnchorAdd:e.useCallback(()=>v(!0),[]),onCustomAnchorRemove:e.useCallback(()=>v(!1),[]),modal:n},r))},Z="PopoverTrigger",B=e.forwardRef((o,s)=>{const{__scopePopover:r,...d}=o,t=u(Z,r),c=m(r),n=O(s,t.triggerRef),a=e.createElement(E.button,f({type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":F(t.open)},d,{ref:n,onClick:$(o.onClick,t.onOpenToggle)}));return t.hasCustomAnchor?a:e.createElement(T,f({asChild:!0},c),a)}),w="PopoverPortal",[J,Q]=R(w,{forceMount:void 0}),W=o=>{const{__scopePopover:s,forceMount:r,children:d,container:t}=o,c=u(w,s);return e.createElement(J,{scope:s,forceMount:r},e.createElement(C,{present:r||c.open},e.createElement(j,{asChild:!0,container:t},d)))},b="PopoverContent",X=e.forwardRef((o,s)=>{const r=Q(b,o.__scopePopover),{forceMount:d=r.forceMount,...t}=o,c=u(b,o.__scopePopover);return e.createElement(C,{present:d||c.open},c.modal?e.createElement(Y,f({},t,{ref:s})):e.createElement(ee,f({},t,{ref:s})))}),Y=e.forwardRef((o,s)=>{const r=u(b,o.__scopePopover),d=e.useRef(null),t=O(s,d),c=e.useRef(!1);return e.useEffect(()=>{const n=d.current;if(n)return K(n)},[]),e.createElement(z,{as:I,allowPinchZoom:!0},e.createElement(A,f({},o,{ref:t,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$(o.onCloseAutoFocus,n=>{var a;n.preventDefault(),c.current||(a=r.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:$(o.onPointerDownOutside,n=>{const a=n.detail.originalEvent,i=a.button===0&&a.ctrlKey===!0,l=a.button===2||i;c.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:$(o.onFocusOutside,n=>n.preventDefault(),{checkForDefaultPrevented:!1})})))}),ee=e.forwardRef((o,s)=>{const r=u(b,o.__scopePopover),d=e.useRef(!1),t=e.useRef(!1);return e.createElement(A,f({},o,{ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var n;if((n=o.onCloseAutoFocus)===null||n===void 0||n.call(o,c),!c.defaultPrevented){var a;d.current||(a=r.triggerRef.current)===null||a===void 0||a.focus(),c.preventDefault()}d.current=!1,t.current=!1},onInteractOutside:c=>{var n,a;(n=o.onInteractOutside)===null||n===void 0||n.call(o,c),c.defaultPrevented||(d.current=!0,c.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const i=c.target;((a=r.triggerRef.current)===null||a===void 0?void 0:a.contains(i))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&t.current&&c.preventDefault()}}))}),A=e.forwardRef((o,s)=>{const{__scopePopover:r,trapFocus:d,onOpenAutoFocus:t,onCloseAutoFocus:c,disableOutsidePointerEvents:n,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:v,...g}=o,p=u(b,r),P=m(r);return L(),e.createElement(G,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:t,onUnmountAutoFocus:c},e.createElement(y,{asChild:!0,disableOutsidePointerEvents:n,onInteractOutside:v,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onDismiss:()=>p.onOpenChange(!1)},e.createElement(k,f({"data-state":F(p.open),role:"dialog",id:p.contentId},P,g,{ref:s,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}),oe="PopoverClose",ie=e.forwardRef((o,s)=>{const{__scopePopover:r,...d}=o,t=u(oe,r);return e.createElement(E.button,f({type:"button"},d,{ref:s,onClick:$(o.onClick,()=>t.onOpenChange(!1))}))});function F(o){return o?"open":"closed"}const te=V,ce=B,re=W,D=X,pe=te,ue=ce,ne=e.forwardRef(({className:o,align:s="center",sideOffset:r=4,...d},t)=>x.jsx(re,{children:x.jsx(D,{ref:t,align:s,sideOffset:r,className:S("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...d})}));ne.displayName=D.displayName;export{ie as $,pe as P,ue as a,ne as b};
